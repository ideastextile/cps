<!DOCTYPE html>
<html>
<head>
    <title>Parcel Label</title>
    <style>
        .label {
            width: 400px;
            margin: 50px auto;
            padding: 20px;
            border: 2px dashed #000;
            font-family: sans-serif;
        }
        .label p {
            margin: 4px 0;
        }
        .qr {
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body  onload="window.print()">
<div class="max-w-md mx-auto bg-white shadow-xl rounded-xl p-6 border border-gray-200 print:border-0 print:shadow-none print:rounded-none">
    <div class="text-center mb-6">
        <h2 class="text-2xl font-bold text-gray-800 tracking-wide">ðŸ“¦ Shipping Label</h2>
        <p class="text-sm text-gray-500">Please attach this label to your parcel</p>
    </div>

    <div class="space-y-2 text-gray-700">
        <p><span class="font-semibold">Tracking #:</span> {{ parcel.tracking_number }}</p>
        <p><span class="font-semibold">Recipient Name:</span> {{ parcel.recipient_name }}</p>
        <p><span class="font-semibold">Phone:</span> {{ parcel.recipient_phone }}</p>
        <p><span class="font-semibold">Pickup Address:</span><br>{{ parcel.pickup_address }}</p>
        <p><span class="font-semibold">Delivery Address:</span><br>{{ parcel.delivery_address }}</p>
    </div>

    <div class="mt-6 flex justify-center">
        <img 
            src="https://api.qrserver.com/v1/create-qr-code/?data={{ parcel.tracking_number }}&size=150x150" 
            alt="QR Code"
            class="w-36 h-36 border border-gray-300 rounded"
        >
    </div>

    <div class="mt-4 text-center text-sm text-gray-400 print:hidden">
        Generated by ParcelTrack Pro
    </div>
</div>


  {% if request.GET.print == "1" %}
<script>
  window.addEventListener('load', () => {
    window.print();
  });
</script>
{% endif %}
  <script>
    JsBarcode("#barcode", "{{ tracking_id }}", {
      format: "CODE128",
      width: 2,
      height: 60,
      displayValue: true
    });
  </script>
</body>
</html>


